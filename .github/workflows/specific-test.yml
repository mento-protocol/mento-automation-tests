name: Specific Test Run

on:
  workflow_dispatch:
    inputs:
      SPEC_NAMES:
        description: "Spec names of running test/s"
        required: true
      SPECS_TYPE:
        type: choice
        description: "Specs type of running test/s"
        default: all
        options:
          - all
          - web
          - api
      HTML_REPORT_GENERATION:
        type: choice
        description: "Flag to configure html report generation"
        default: "onFailure"
        options:
          - "true"
          - "false"
          - "onFailure"
      TESTOMAT_REPORT_GENERATION:
        type: choice
        description: "Flag to configure testomat test run report generation"
        default: "true"
        options:
          - "true"
          - "false"

jobs:
  test:
    name: "Specific Test Run"
    uses: ./.github/workflows/common-test.yml
    with:
      SPEC_NAMES: ${{ github.event.inputs.SPEC_NAMES }}
      SPECS_TYPE: ${{ github.event.inputs.SPECS_TYPE }}
      HTML_REPORT_GENERATION: ${{ github.event.inputs.SHOULD_REPORT }}
      TESTOMAT_REPORT_GENERATION: "true"
      TESTOMATIO_TITLE: "Specific"
    secrets:
      SEED_PHRASE: ${{ secrets.SEED_PHRASE }}
      TESTOMAT_API_KEY: ${{ secrets.TESTOMAT_API_KEY }}
